# =============================================================================
# NICEHR Production Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# For HIPAA compliance, ensure all secrets are securely managed
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV="production"
PORT="3000"
APP_URL="https://your-domain.com"

# Session secret - REQUIRED
# Generate: openssl rand -hex 32
SESSION_SECRET="your-secure-session-secret-min-64-chars-recommended"

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# For HIPAA: Use provider with BAA (Neon, AWS RDS, Google Cloud SQL)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
DATABASE_URL="postgresql://nicehr_user:password@your-db-host:5432/nicehr?sslmode=require"

# =============================================================================
# EMAIL SERVICE (SendGrid - HIPAA Compliant)
# =============================================================================
# For HIPAA compliance: Use SendGrid Pro plan and sign their BAA
# Get API key: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY="SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
SENDGRID_FROM_EMAIL="NICEHR <noreply@your-domain.com>"

# =============================================================================
# VIDEO SERVICE (Daily.co)
# =============================================================================
# For HIPAA compliance: Use Daily.co Scale plan with BAA
# Get credentials: https://dashboard.daily.co/developers
DAILY_API_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
DAILY_DOMAIN="your-organization.daily.co"

# =============================================================================
# FILE STORAGE (Google Cloud Storage)
# =============================================================================
# For HIPAA compliance: Sign Google Cloud BAA
# Create a service account with Storage Object Admin role
GCS_PROJECT_ID="your-gcp-project-id"
GCS_BUCKET_NAME="nicehr-files"

# Option 1: Service account JSON file path (recommended for servers)
GOOGLE_APPLICATION_CREDENTIALS="/path/to/service-account-key.json"

# Option 2: Inline credentials (for containerized/serverless deployments)
# GCS_CLIENT_EMAIL="nicehr-storage@your-project.iam.gserviceaccount.com"
# GCS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# Storage paths within your bucket
PUBLIC_OBJECT_SEARCH_PATHS="/nicehr-files/public"
PRIVATE_OBJECT_DIR="/nicehr-files/private"

# =============================================================================
# CORS CONFIGURATION (Optional)
# =============================================================================
# Comma-separated list of allowed origins
# Leave empty in development to allow all localhost origins
ALLOWED_ORIGINS="https://your-domain.com,https://www.your-domain.com"

# =============================================================================
# REPLIT DEVELOPMENT (Only for Replit deployments)
# =============================================================================
# These are auto-populated by Replit
# REPL_ID=""
# ISSUER_URL="https://replit.com/oidc"
# REPLIT_DEV_DOMAIN=""

# =============================================================================
# AI FEATURES (Optional)
# =============================================================================
# ANTHROPIC_API_KEY=""

# =============================================================================
# LOGGING & OBSERVABILITY
# =============================================================================
# Log level: DEBUG, INFO, WARN, ERROR (default: INFO)
LOG_LEVEL="INFO"

# Enable JSON structured logging (default: true)
# Set to "false" for human-readable logs in development
STRUCTURED_LOGGING="true"

# Service name for log entries (default: nicehr-api)
SERVICE_NAME="nicehr-api"

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable optional modules
ENABLE_TDR="false"
ENABLE_EXECUTIVE_METRICS="false"

# =============================================================================
# HIPAA COMPLIANCE NOTES
# =============================================================================
# - All database connections MUST use SSL/TLS (sslmode=require)
# - Sessions expire after 15 minutes of inactivity (built into app)
# - All API requests are audit logged
# - PHI is never logged in request/response bodies
# - Sign BAAs with: Database provider, SendGrid, Daily.co, Google Cloud
# - Use dedicated/isolated hosting (not shared/serverless)
# - Enable encryption at rest for database and file storage
# =============================================================================
